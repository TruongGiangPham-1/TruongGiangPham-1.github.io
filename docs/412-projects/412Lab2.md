---
layout: page
title: CMPUT 503 Lab 2 report
permalink: 412-projects/A2/
date: 2025-02-12 10:33:00 -0000
---




# Making the robot move
We keep track of the world's frame $$[x_I, y_I, \theta_I]$$ at each timestep by mapping from robot's frame $$[x_r, y_r, \theta_r]$$.
We assume that $$\theta_r = \theta_I$$.  
$$[x_I, y_I, \theta]_t = [x_r, y_r, \theta_r] \cdot R^{-1} (\theta)^T $$  
Where 

$$
R^{-1} (\theta)^T = \begin{bmatrix}
  cos(\theta) & sin(\theta) & 0 \\
  -sin(\theta) & cos(\theta) & 0 \\
  0 & 0 & 1
\end{bmatrix}
$$

Since we did not have each wheel's velocity, we opt to compute the World'

$$
d = R\cdot \Delta\theta
$$

$$ 
d_{L} = (R - d_w) \cdot \Delta\theta  = R\cdot \Delta\theta - d_w \cdot \Delta\theta  \qquad (1)
$$

$$ 
d_{R} = (R + d_w)\cdot \Delta\theta = R\cdot \Delta\theta + d_w \cdot \Delta\theta  \qquad (2)
$$

We solve for this system of linear equation by multiplying (1) with -1

$$
\begin{align*}
  & -d_{L} = -R\cdot \Delta\theta + d_w \cdot \Delta\theta  \\
+ & d_{R} =  R\cdot \Delta\theta + d_w \cdot \Delta\theta \\
\hline
  & d_R - d_L = 2\cdot d_w \Delta\theta
\end{align*}
$$

Thus
$$
\Delta\theta = \frac{d_R - d_L}{2\cdot d_w}
$$
$$
\Delta\ x = \frac{d_R + d_L}{2}
$$
$$
\Delta\ y = 0
$$

All together,

$$
[x_I, y_I, \theta]_t = [x_I, y_I, \theta]_{t - 1} + R^{-1} (\theta)^T \cdot[\Delta x, 0, \Delta\theta]
$$
